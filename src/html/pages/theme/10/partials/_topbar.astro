---
import Logo from './_topbar/_logo.astro'
import { getPathPrefix } from '../../../../../utils/path'
const rawPath = Astro.url.pathname
const currentPath = rawPath.replace(/\.html$/, '') // remove .html if present
---

<div class="sticky-top z-4">
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg bg-body">
    <div class="container position-relative">
      <!-- Logo (centered on lg+) -->
      <a class="navbar-brand mx-auto navbar-center" href={getPathPrefix('/theme/10/home')}>
        <Logo />
      </a>

      <!-- Offcanvas Toggler -->
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="offcanvas"
        data-bs-target="#mainOffcanvas"
        aria-controls="mainOffcanvas"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Desktop Links -->
      <div class="collapse navbar-collapse d-none d-lg-flex justify-content-between w-100">
        <ul class="navbar-nav navbar-highlight me-auto">
          <li class="nav-item">
            <a
              class={`nav-link${currentPath === '/theme/10/home' ? ' active' : ''}`}
              href={getPathPrefix('/theme/10/home')}>Home</a
            >
          </li>
          <li class="nav-item dropdown">
            <a
              class="nav-link dropdown-toggle"
              href="#"
              id="aboutDropdown"
              role="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              About
            </a>
            <ul class="dropdown-menu" aria-labelledby="aboutDropdown">
              <li>
                <a
                  class={`dropdown-item${currentPath === '/theme/10/about' ? ' active' : ''}`}
                  href={getPathPrefix('/theme/10/about')}>About</a
                >
              </li>
              <li>
                <a
                  class={`dropdown-item${currentPath === '/theme/10/breeding-philosophy' ? ' active' : ''}`}
                  href={getPathPrefix('/theme/10/breeding-philosophy')}>Breeding Philosophy</a
                >
              </li>
              <li>
                <a
                  class={`dropdown-item${currentPath === '/theme/10/testimonials' ? ' active' : ''}`}
                  href={getPathPrefix('/theme/10/testimonials')}>Testimonials</a
                >
              </li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a
              class="nav-link dropdown-toggle"
              href="#"
              id="exploreDropdown"
              role="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              Explore
            </a>
            <ul class="dropdown-menu" aria-labelledby="exploreDropdown">
              <li>
                <a
                  class={`dropdown-item${currentPath === '/theme/10/kittens' ? ' active' : ''}`}
                  href={getPathPrefix('/theme/10/kittens')}>Kittens</a
                >
              </li>
              <li>
                <a
                  class={`dropdown-item${currentPath === '/theme/10/gallery' ? ' active' : ''}`}
                  href={getPathPrefix('/theme/10/gallery')}>Gallery</a
                >
              </li>
              <li>
                <a
                  class={`dropdown-item${currentPath === '/theme/10/shop' ? ' active' : ''}`}
                  href={getPathPrefix('/theme/10/shop')}>Shop</a
                >
              </li>
            </ul>
          </li>
        </ul>

        <ul class="navbar-nav navbar-highlight ms-auto">
          <li class="nav-item dropdown">
            <a
              class="nav-link dropdown-toggle"
              href="#"
              id="blogDropdown"
              role="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              Blog
            </a>
            <ul class="dropdown-menu" aria-labelledby="blogDropdown">
              <li>
                <a
                  class={`dropdown-item${currentPath === '/theme/10/blog-1' ? ' active' : ''}`}
                  href={getPathPrefix('/theme/10/blog-1')}>Blog - No Sidebar</a
                >
              </li>
              <li>
                <a
                  class={`dropdown-item${currentPath === '/theme/10/blog-2' ? ' active' : ''}`}
                  href={getPathPrefix('/theme/10/blog-2')}>Blog - Left Sidebar</a
                >
              </li>
              <li>
                <a
                  class={`dropdown-item${currentPath === '/theme/10/blog-3' ? ' active' : ''}`}
                  href={getPathPrefix('/theme/10/blog-3')}>Blog - Right Sidebar</a
                >
              </li>
              <li>
                <a
                  class={`dropdown-item${currentPath === '/theme/10/post-1' ? ' active' : ''}`}
                  href={getPathPrefix('/theme/10/post-1')}>Blog Post - No Sidebar</a
                >
              </li>
              <li>
                <a
                  class={`dropdown-item${currentPath === '/theme/10/post-2' ? ' active' : ''}`}
                  href={getPathPrefix('/theme/10/post-2')}>Blog Post - Left Sidebar</a
                >
              </li>
              <li>
                <a
                  class={`dropdown-item${currentPath === '/theme/10/post-3' ? ' active' : ''}`}
                  href={getPathPrefix('/theme/10/post-3')}>Blog Post - Right Sidebar</a
                >
              </li>
            </ul>
          </li>
          <li class="nav-item">
            <a
              class={`nav-link${currentPath === '/theme/10/faq' ? ' active' : ''}`}
              href={getPathPrefix('/theme/10/faq')}>FAQs</a
            >
          </li>
          <li class="nav-item">
            <a
              class={`nav-link${currentPath === '/theme/10/contact' ? ' active' : ''}`}
              href={getPathPrefix('/theme/10/contact')}>Contact</a
            >
          </li>
        </ul>
      </div>

      <!-- Mobile Nav Links -->
      <div
        class="offcanvas offcanvas-end d-lg-none"
        tabindex="-1"
        id="mainOffcanvas"
        aria-labelledby="mainOffcanvasLabel"
      >
        <div class="offcanvas-header">
          <a class="navbar-brand" href={getPathPrefix('/theme/10/home')}>
            <Logo />
          </a>
          <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"
          ></button>
        </div>
        <div class="offcanvas-body">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a
                class={`nav-link${currentPath === '/theme/10/home' ? ' active' : ''}`}
                href={getPathPrefix('/theme/10/home')}>Home</a
              >
            </li>
            <li class="nav-item">
              <a
                class={`nav-link${currentPath === '/theme/10/about' ? ' active' : ''}`}
                href={getPathPrefix('/theme/10/about')}>About</a
              >
            </li>
            <li class="nav-item">
              <a
                class={`nav-link${currentPath === '/theme/10/breeding-philosophy' ? ' active' : ''}`}
                href={getPathPrefix('/theme/10/breeding-philosophy')}>Breeding Philosophy</a
              >
            </li>
            <li class="nav-item">
              <a
                class={`nav-link${currentPath === '/theme/10/shop' ? ' active' : ''}`}
                href={getPathPrefix('/theme/10/shop')}>Shop</a
              >
            </li>
            <li class="nav-item">
              <a
                class={`nav-link${currentPath === '/theme/10/kittens' ? ' active' : ''}`}
                href={getPathPrefix('/theme/10/kittens')}>Kittens</a
              >
            </li>
            <li class="nav-item">
              <a
                class={`nav-link${currentPath === '/theme/10/testimonials' ? ' active' : ''}`}
                href={getPathPrefix('/theme/10/testimonials')}>Testimonials</a
              >
            </li>
            <li class="nav-item">
              <a
                class={`nav-link${currentPath === '/theme/10/gallery' ? ' active' : ''}`}
                href={getPathPrefix('/theme/10/gallery')}>Gallery</a
              >
            </li>
            <li class="nav-item">
              <a
                class={`nav-link${currentPath === '/theme/10/faq' ? ' active' : ''}`}
                href={getPathPrefix('/theme/10/faq')}>FAQs</a
              >
            </li>
            <li class="nav-item">
              <a
                class={`nav-link${currentPath === '/theme/10/blog-1' ? ' active' : ''}`}
                href={getPathPrefix('/theme/10/blog-1')}>Blog – 1</a
              >
            </li>
            <li class="nav-item">
              <a
                class={`nav-link${currentPath === '/theme/10/blog-2' ? ' active' : ''}`}
                href={getPathPrefix('/theme/10/blog-2')}>Blog – 2</a
              >
            </li>
            <li class="nav-item">
              <a
                class={`nav-link${currentPath === '/theme/10/blog-3' ? ' active' : ''}`}
                href={getPathPrefix('/theme/10/blog-3')}>Blog – 3</a
              >
            </li>
            <li class="nav-item">
              <a
                class={`nav-link${currentPath === '/theme/10/post-1' ? ' active' : ''}`}
                href={getPathPrefix('/theme/10/post-1')}>Post – 1</a
              >
            </li>
            <li class="nav-item">
              <a
                class={`nav-link${currentPath === '/theme/10/post-2' ? ' active' : ''}`}
                href={getPathPrefix('/theme/10/post-2')}>Post – 2</a
              >
            </li>
            <li class="nav-item">
              <a
                class={`nav-link${currentPath === '/theme/10/post-3' ? ' active' : ''}`}
                href={getPathPrefix('/theme/10/post-3')}>Post – 3</a
              >
            </li>
            <li class="nav-item">
              <a
                class={`nav-link${currentPath === '/theme/10/contact' ? ' active' : ''}`}
                href={getPathPrefix('/theme/10/contact')}>Contact</a
              >
            </li>
          </ul>
        </div>
      </div>
    </div>
  </nav>

  <!-- Search Bar and Contact Info -->
  <div class="text-bg-primary">
    <div class="container">
      <div class="row align-items-center py-2">
        <!-- Search Bar -->
        <div class="col-12 col-sm-6 offset-sm-6 col-md-4 offset-md-8">
          <form class="d-flex" role="search">
            <input
              class="form-control form-control-lg me-2"
              type="search"
              placeholder="Search"
              aria-label="Search"
            />
            <button class="btn btn-lg btn-outline-light" type="submit">
              <i class="ri-search-line"></i>
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
